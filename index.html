<!doctype>
<html>
    <head>
        <style>
            body {
                margin: 0;
            }

            #container {
                position: absolute;
                left: 0;
                bottom: 0;
                height: 400px;
                width: 400px;
                max-width: 100%;
                max-height: 100%;
                border: 1px dashed #ccc;
            }

            #main {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
            }
        </style>
    </head>

    <body>
        <div id="container">
            <canvas id="main"></canvas>
        </div>

        <script src="examples/lib/stats.min.js"></script>
        <script src="build/index.js"></script>
        <script>
            var container = document.getElementById('container');
            var canvas = document.getElementById('main');
            canvas.width = container.clientWidth * 2;
            canvas.height = container.clientHeight * 2;

            var palette = new PP.Palette(canvas);
            var renderer = palette.renderer;

            window.onresize = function () {
                palette.resize(
                    container.clientWidth * palette.pixelRatio,
                    container.clientHeight * palette.pixelRatio
                );
            }

            var stat = new Stats();
            document.body.appendChild(stat.dom);

            function animate() {
                stat.begin();

                renderer.render(palette);

                stat.end();

                requestAnimationFrame(animate);
            }
            requestAnimationFrame(animate);
        </script>
    </body>
</html>
